<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>Fan Bubble</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <script defer src="app.js"></script>
  </head>
  <body class="app-bg">
    <div id="app" class="app-frame">
      <header class="app-header app-header--center">
        <h1 class="app-title">Fan Bubble</h1>
      </header>

      <main class="app-main">
        <ul class="member-list">
          <!-- 멤버 리스트는 자바스크립트로 동적으로 생성됨 -->
        </ul>
      </main>

      <!-- 하단 탭바 -->
      <nav class="app-tabbar">
        <button class="tab-btn tab-btn--active" id="tabMembersBtn">Members</button>
        <button class="tab-btn" id="tabMoreBtn">More</button>
      </nav>

      <!-- More 버튼 클릭 시 토글 메뉴 -->
      <div class="more-menu hidden" id="moreMenu">
        <button id="updateBtn">Update</button>
        <button id="managerBtn">Manager</button>
      </div>

      <!-- 문의 폼 -->
      <div class="modal hidden" id="updateModal">
        <div class="modal-content">
          <h2>문의하기</h2>
          <label for="memberSelect">멤버 선택</label>
          <select id="memberSelect">
            <option value="Gunil">Gunil</option>
            <option value="Jeongsu">Jeongsu</option>
            <option value="Gaon">Gaon</option>
            <option value="Ode">Ode</option>
            <option value="Junhan">Junhan</option>
            <option value="Jooyeon">Jooyeon</option>
          </select>

          <label for="dateInput">날짜</label>
          <input type="date" id="dateInput" />

          <label for="messageInput">내용</label>
          <textarea id="messageInput" rows="4"></textarea>

          <button id="sendMessageBtn">전송</button>
          <button class="close-btn" onclick="closeModal('updateModal')">닫기</button>
        </div>
      </div>

      <!-- 관리자 로그인 폼 -->
      <div class="modal hidden" id="passwordModal">
        <div class="modal-content">
          <h2>관리자 로그인</h2>
          <input type="password" id="adminPassword" placeholder="비밀번호 입력" />
          <button id="loginBtn">확인</button>
          <button class="close-btn" onclick="closeModal('passwordModal')">닫기</button>
        </div>
      </div>

      <!-- 관리자 메뉴 -->
      <div class="modal hidden" id="adminMenu">
        <div class="modal-content">
          <h2>관리자 메뉴</h2>
          <button id="viewNewsBtn">News</button>
          <button id="uploadBtn">Upload</button>
          <button class="close-btn" onclick="closeModal('adminMenu')">닫기</button>
        </div>
      </div>

      <!-- Upload 메뉴 -->
      <div class="modal hidden" id="uploadModal">
        <div class="modal-content">
          <h2>채팅 추가</h2>

          <label for="uploadMemberSelect">멤버 선택</label>
          <select id="uploadMemberSelect">
            <option value="Gunil">Gunil</option>
            <option value="Jeongsu">Jeongsu</option>
            <option value="Gaon">Gaon</option>
            <option value="Ode">Ode</option>
            <option value="Junhan">Junhan</option>
            <option value="Jooyeon">Jooyeon</option>
          </select>

          <label for="uploadDate">날짜</label>
          <input type="date" id="uploadDate" />

          <label for="uploadTime">시간</label>
          <input type="time" id="uploadTime" />

          <label for="uploadMessage">내용</label>
          <textarea id="uploadMessage" rows="4"></textarea>

          <label for="uploadImage">이미지 업로드</label>
          <input type="file" id="uploadImage" accept="image/*" />

          <button id="submitUpload">추가</button>
          <button class="close-btn" onclick="closeModal('uploadModal')">닫기</button>
        </div>
      </div>
    </div>

    <script>
      // Members 버튼 클릭 → member.html 이동
      document.getElementById("tabMembersBtn").addEventListener("click", function () {
        window.location.href = "member.html";
      });

      // More 버튼 클릭 → more 메뉴 토글
      document.getElementById("tabMoreBtn").addEventListener("click", function () {
        const menu = document.getElementById("moreMenu");
        menu.classList.toggle("hidden");
      });

      // Update 버튼 클릭 시 문의 폼 열기
      document.getElementById("updateBtn").addEventListener("click", function () {
        openModal("updateModal");
      });

      // Manager 버튼 클릭 시 비밀번호 확인 창 열기
      document.getElementById("managerBtn").addEventListener("click", function () {
        openModal("passwordModal");
      });

      document.getElementById("loginBtn").addEventListener("click", function () {
        const password = document.getElementById("adminPassword").value;
        if (password === "0912") {
          closeModal("passwordModal");
          openModal("adminMenu");
        } else {
          alert("비밀번호가 틀렸습니다.");
        }
      });

      // Upload 메뉴 열기
      document.getElementById("uploadBtn").addEventListener("click", function () {
        closeModal("adminMenu");
        openModal("uploadModal");
      });

      function openModal(id) {
        document.getElementById(id).classList.remove("hidden");
      }

      function closeModal(id) {
        document.getElementById(id).classList.add("hidden");
      }
    </script>
  </body>
</html>
